import re

valid_chars = set(
    "\n !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_"
    "abcdefghijklmnopqrstuvwxyz{|}~¢£¥§©«®°±»ÕõǦǧ֏€₴₼₽№™√≈≤≥"
)

replace_chars = {
    "𝗔АΑĄÀÁÄÅĀĂÂÃ": "A",
    "𝗕Б": "B",
    "𝗖СÇČĆĈĊ": "C",
    "𝗗𝘿ĐÐĎД": "D",
    "𝗘ΕЕĘÈÉĚÊЭ": "E",
    "𝗙ϜФ": "F",
    "𝗚𝐆ĞǴḠĜГҐ": "G",
    "𝗛": "H",
    "𝐈ÌÍÏÎĪİІⅠ𝗜И": "I",
    "ɈĴ": "J",
    "ЌҜК": "K",
    "𝗟ŁЛ": "L",
    "𝗠𝙈МмᴹⓂ": "M",
    "𝗡𝙉𝐍ŃÑŇΝНҢӉ": "N",
    "𝗢ÒÓÖŌŎŐÔǑОØθӨ": "O",
    "𝗣П": "P",
    "𝗤Қ": "Q",
    "𝗥ŘР": "R",
    "𝐒ṢȘŞŚŠŜṠ": "S",
    "𝗧𝐓ᵀȚŤТⓉ₸": "T",
    "𝗨𝐔ÚÜŮŰŪУ": "U",
    "В": "V",
    # "": "W",
    "Ⅹ": "X",
    "ÝҰҮЙЫ": "Y",
    "𝗭ŽŹŻƵЗ": "Z",
    "Æ": "AE",
    "ËЁ": "Yo",
    "ЖҖ": "Zh",
    "ХҲ": "Kh",
    "Ц": "Ts",
    "ЧҶҸ": "Ch",
    "Ш": "Sh",
    "Щ": "Shch",
    "Ю": "Yu",
    "Я": "Ya",
    "Ғ": "G'",
    "ӮЎ": "O'",

    "𝗮àáâãäåāăą𝙖αầἀᵅɑа": "a",
    "𝗯𝙗ẞβßб": "b",
    "𝗰𝙘çćčĉċ": "c",
    "𝙙ðďđд": "d",
    "𝗲𝙚èéêēėęěеәэѐ": "e",
    "𝗳ф": "f",
    "𝗴ğǵḡĝгґѓ": "g",
    "𝗵һҺ": "h",
    "𝗶𝙞¡íïиіîίìī": "i",
    "ɉĵ": "j",
    "𝗸кκќҝ": "k",
    "𝗹𝙡ıłлˡ": "l",
    "𝗺𝙢ｍ": "m",
    "𝗻𝙣ñńņŋňήηȠнңӊ": "n",
    "𝙤òóôöøőоөōŏοσɒǒ": "o",
    "𝗽𝙥п": "p",
    "қ": "q",
    "𝗿𝙧рř": "r",
    "𝘀𝙨śşšșсŝṡṣ": "s",
    "𝘁𝙩țтť": "t",
    "𝘂𝙪ùúüυūųûµуµ": "u",
    "νв": "v",
    "𝘄ώ": "w",
    "×⚔ӽ": "x",
    "𝘆ýÿүұγйыӣֺ": "y",
    "𝘇žзƶż": "z",
    "æ": "ae",
    "ëё": "yo",
    "жҗ": "zh",
    "хҳ": "kh",
    "ц": "ts",
    "чҹҷ": "ch",
    "ш": "sh",
    "щ": "shch",
    "ю": "yu",
    "я": "ya",
    "ғ": "g'",
    "ӯỹў": "o'",
    "ﬁ": "fi",
    "ﬂ": "fl",

    "⁰₀𝟬０": "0",
    "¹₁𝟭①": "1",
    "²₂②": "2",
    "³₃ᶟ③": "3",
    "⁴₄４": "4",
    "⁵₅５": "5",
    "⁶₆": "6",
    "⁷₇": "7",
    "⁸₈": "8",
    "⁹₉": "9",
    "（﴾": "(",
    "）﴿": ")",
    "‑–—−－‌―─⁃‐‑–—‒˗": "-",
    "›": ">",
    "＝": "=",
    "❓": "?",
    "❗！": "!",
    "⁉": "?!",
    "‼": "!!",
    "；": ";",
    "ː": ":",
    "，": ",",
    "…": "...",
    "`ʻ‘’′᾽‛ʾʹ´ʹʼЬь": "'",
    "“”„❝❞″Ъъ": "\"",
    "《": "«",
    "》": "»",
    "˚°º": "°",
    "│": "|",
    "÷": "/",
    "½": "1/2",
    "⅓": "1/3",
    "¼": "1/4",
    "¾": "3/4",
    "Ⅱ": "II",
    "Ⅲ": "III",
    "Ⅳ": "IV",
    "Ⅷ": "VIII",
    "Ⅸ": "IX",
    "Ⅻ": "XII",
    "㎡": "m2",
}


def strip_replace(s: str) -> tuple[str, list[str]]:
    s = re.sub("\t", " ", s)
    s = re.sub("\r", " ", s)
    s = re.sub(" +", " ", s)
    for old, new in replace_chars.items():
        s = re.sub("[" + old + "]", new, s)
    invalid_chars = sorted(set(s).difference(valid_chars))
    for char in invalid_chars:
        s = s.replace(char, "")
    return s, invalid_chars
